<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Bond Builder ‡πÄ‡∏Å‡∏°‡πÄ‡∏Ñ‡∏°‡∏µ</title>
  <style>
    body {
      font-family: "Comic Sans MS", sans-serif;
      background: linear-gradient(to right, #d1f7ff, #fff4d1);
      text-align: center;
      margin: 0;
      padding: 0;
    }

    header {
      background: #4cafef;
      color: white;
      padding: 15px;
      font-size: 22px;
      font-weight: bold;
    }

    #game-area {
      margin-top: 20px;
    }

    .atom {
      display: inline-block;
      font-size: 40px;
      cursor: pointer;
      margin: 10px;
      padding: 10px;
      border: 2px solid transparent;
      border-radius: 10px;
      transition: 0.2s;
    }

    .atom:hover {
      border-color: #4cafef;
      background: #e6f7ff;
    }

    #drop-zone {
      border: 2px dashed #555;
      border-radius: 15px;
      width: 80%;
      min-height: 100px;
      margin: 20px auto;
      padding: 10px;
      background: #f9f9f9;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 15px;
    }

    .atom-placed {
      font-size: 26px;
      padding: 8px 12px;
      border: 2px solid #4cafef;
      border-radius: 12px;
      background: white;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    }

    #status {
      font-size: 18px;
      margin: 15px;
      font-weight: bold;
    }

    #score {
      font-size: 20px;
      color: darkgreen;
      font-weight: bold;
    }

    .button {
      background: #4caf50;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      margin: 10px 5px;
      display: none;
    }

    .button:hover {
      background: #45a049;
    }

    #clearBtn {
      background: #f44336;
    }

    #clearBtn:hover {
      background: #e53935;
    }
  </style>
</head>
<body>
  <header>üß™ Bond Builder ‚Äì ‡πÄ‡∏Å‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏•</header>

  <div id="game-area">
    <p>‚ú® ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏•: <span id="target"></span></p>

    <div id="atoms">
      <div class="atom" data-atom="H" data-symbol="üíß H">üíß H</div>
      <div class="atom" data-atom="O" data-symbol="üå¨Ô∏è O">üå¨Ô∏è O</div>
      <div class="atom" data-atom="C" data-symbol="üî• C">üî• C</div>
      <div class="atom" data-atom="N" data-symbol="üçÉ N">üçÉ N</div>
    </div>

    <div id="drop-zone">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∞‡∏ï‡∏≠‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏• üß©</div>

    <p id="status"></p>
    <p id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</p>

    <button id="checkBtn" class="button" onclick="checkAnswer()">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö ‚úÖ</button>
    <button id="nextBtn" class="button" onclick="nextQuestion()">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡∏°‡πà ‚ñ∂</button>
    <button id="clearBtn" class="button" onclick="clearAtoms()">‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå ‚ôª</button>
  </div>

  <script>
    const molecules = [
      { name: "‡∏ô‡πâ‡∏≥", formula: { H: 2, O: 1 } },   // H2O
      { name: "‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡πÑ‡∏î‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå", formula: { C: 1, O: 2 } }, // CO2
      { name: "‡∏°‡∏µ‡πÄ‡∏ó‡∏ô", formula: { C: 1, H: 4 } }, // CH4
      { name: "‡πÅ‡∏≠‡∏°‡πÇ‡∏°‡πÄ‡∏ô‡∏µ‡∏¢", formula: { N: 1, H: 3 } } // NH3
    ];

    let currentMolecule = {};
    let dropAtoms = {};
    let score = 0;

    const targetEl = document.getElementById("target");
    const dropZone = document.getElementById("drop-zone");
    const statusEl = document.getElementById("status");
    const scoreEl = document.getElementById("score");
    const checkBtn = document.getElementById("checkBtn");
    const nextBtn = document.getElementById("nextBtn");
    const clearBtn = document.getElementById("clearBtn");

    function renderDropZone() {
      dropZone.innerHTML = "";
      let keys = Object.keys(dropAtoms);
      if (keys.length === 0) {
        dropZone.textContent = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∞‡∏ï‡∏≠‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏°‡πÄ‡∏•‡∏Å‡∏∏‡∏• üß©";
        return;
      }
      keys.forEach(atom => {
        let div = document.createElement("div");
        div.className = "atom-placed";
        div.textContent = `${atom} √ó${dropAtoms[atom]}`;
        dropZone.appendChild(div);
      });
    }

    function nextQuestion() {
      dropAtoms = {};
      renderDropZone();
      statusEl.textContent = "";
      nextBtn.style.display = "none";
      checkBtn.style.display = "inline-block";
      clearBtn.style.display = "inline-block";

      currentMolecule = molecules[Math.floor(Math.random() * molecules.length)];
      targetEl.textContent = `${currentMolecule.name} (${formulaToString(currentMolecule.formula)})`;
    }

    function formulaToString(formula) {
      let str = "";
      for (let atom in formula) {
        str += atom + (formula[atom] > 1 ? formula[atom] : "");
      }
      return str;
    }

    function checkAnswer() {
      let correct = true;

      for (let atom in currentMolecule.formula) {
        if (dropAtoms[atom] !== currentMolecule.formula[atom]) {
          correct = false;
        }
      }

      for (let atom in dropAtoms) {
        if (!(atom in currentMolecule.formula)) {
          correct = false;
        }
      }

      if (correct) {
        statusEl.textContent = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å üéâ";
        statusEl.style.color = "green";
        score += 10;
        nextBtn.style.display = "inline-block";
        checkBtn.style.display = "none";
        clearBtn.style.display = "none";
      } else {
        statusEl.textContent = "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞";
        statusEl.style.color = "red";
      }
      scoreEl.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
    }

    function clearAtoms() {
      dropAtoms = {};
      renderDropZone();
      statusEl.textContent = "";
    }

    document.querySelectorAll(".atom").forEach(atom => {
      atom.addEventListener("click", () => {
        let atomType = atom.dataset.atom;
        dropAtoms[atomType] = (dropAtoms[atomType] || 0) + 1;
        renderDropZone();
      });
    });

    nextQuestion();
  </script>
</body>
</html>
